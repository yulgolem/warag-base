# Worldbuilding Assistant: Project Overview & Roadmap

## Vision
–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –ø–∏—Å–∞—Ç–µ–ª–µ–π, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∏–π —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–∏—Ä–æ–≤ —á–µ—Ä–µ–∑ –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–≤—è–∑–µ–π.

## Target Workflow
```
–ú–∏—Ä–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ‚Üí –°—é–∂–µ—Ç–Ω–æ–µ —è–¥—Ä–æ ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Üí –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –ù–∞–ø–∏—Å–∞–Ω–∏–µ
     ‚Üì              ‚Üì              ‚Üì           ‚Üì           ‚Üì
  –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏     –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã      –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  –ü–µ—Ä—Å–æ–Ω–∞–∂–∏   –ö–æ–Ω—Ç—Ä–æ–ª—å
   –õ–æ–∫–∞—Ü–∏–∏      –°–æ–±—ã—Ç–∏—è         –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è   –°—Ü–µ–Ω—ã     –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
```

## Development Phases

### üöÄ Phase 1: MVP - World Knowledge Graph (Current)
**–¶–µ–ª—å**: –ë–∞–∑–æ–≤—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –º–∏—Ä–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  
**–§—É–Ω–∫—Ü–∏–∏**:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ MD —Ñ–∞–π–ª–æ–≤ (–ø–µ—Ä—Å–æ–Ω–∞–∂–∏, –ª–æ–∫–∞—Ü–∏–∏, –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–µ–º–∞–Ω—Ç–∏–∫–µ –∏ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- **Chat —Å WorldBuildingAgent** –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç—è—Ö
- Web UI –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: CrewAI, Neo4j, PostgreSQL+pgvector, Streamlit, Ollama  
**–°—Ä–æ–∫**: 3-4 –Ω–µ–¥–µ–ª–∏  
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Docker-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –±–∞–∑–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ç–µ–∫—Å—Ç–æ–≤ + —á–∞—Ç

### üéØ Phase 2: Consistency Control System
**–¶–µ–ª—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –º–∏—Ä–∞  
**–ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã**:
- **ConsistencyCheckerAgent** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- **TimelineValidatorAgent** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
- **GeographyValidatorAgent** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ª–æ–≥–∏–∫–∏ –ª–æ–∫–∞—Ü–∏–π
- **CharacterConsistencyAgent** - –∫–æ–Ω—Ç—Ä–æ–ª—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **ConflictResolverAgent** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Temporal reasoning, Logic programming, Rule-based systems
**–°—Ä–æ–∫**: 2-3 –Ω–µ–¥–µ–ª–∏  

### üìñ Phase 3: Writing Assistant Integration  
**–¶–µ–ª—å**: –ü–æ–º–æ—â—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞  
**–ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã**:
- **AtmosphereAnalyzerAgent** - –∞–Ω–∞–ª–∏–∑ –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- **PacingControllerAgent** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–µ–π—Å–∏–Ω–≥–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ü–µ–Ω
- **FlashbackTrackerAgent** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ñ–ª—ç—à–±–µ–∫–æ–≤ –∏ –ø—Ä–µ–¥—á—É–≤—Å—Ç–≤–∏–π
- **StoryArcAgent** - –∞–Ω–∞–ª–∏–∑ "–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π" –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **DetailSuggesterAgent** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Sentiment analysis, Narrative structure analysis, Scene analysis
**–°—Ä–æ–∫**: 3-4 –Ω–µ–¥–µ–ª–∏  

### üé≠ Phase 4: Character & Style Profiling
**–¶–µ–ª—å**: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–µ—á–µ–≤—ã—Ö –∏ —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π  
**–ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã**:
- **SpeechPatternAgent** - –∞–Ω–∞–ª–∏–∑ —Ä–µ—á–µ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **WorldLanguageAgent** - —Å–æ–∑–¥–∞–Ω–∏–µ —è–∑—ã–∫–æ–≤–æ–≥–æ –ø–∞—Å–ø–æ—Ä—Ç–∞ –º–∏—Ä–∞
- **StyleConsistencyAgent** - –¥–µ—Ç–µ–∫—Ü–∏—è —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π
- **StyleGeneratorAgent** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–º —Å—Ç–∏–ª–µ
- **ToneAdapterAgent** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–æ–Ω–∞ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Style transfer, Speaker identification, Linguistic analysis
**–°—Ä–æ–∫**: 4-5 –Ω–µ–¥–µ–ª—å  

### üß† Phase 5: Advanced Story Architecture
**–¶–µ–ª—å**: –ü–æ–º–æ—â—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –Ω–∞—Ä—Ä–∞—Ç–∏–≤–æ–≤  
**–ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã**:
- **PlotCoreAgent** - —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—é–∂–µ—Ç–Ω–æ–≥–æ —è–¥—Ä–∞ –∏–∑ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π
- **ConflictAnalyzerAgent** - –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –∏—Ö —Ä–∞–∑–≤–∏—Ç–∏—è
- **StructureOptimizerAgent** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **MultiPlotAgent** - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —Å—é–∂–µ—Ç–Ω—ã—Ö –ª–∏–Ω–∏–π
- **AlternativeGeneratorAgent** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–∞–∑–≤–∏—Ç–∏–π

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Story generation, Plot analysis, Narrative planning, Causal reasoning
**–°—Ä–æ–∫**: 5-6 –Ω–µ–¥–µ–ª—å  

### üöÄ Phase 6: Full Writing Companion
**–¶–µ–ª—å**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å –ò–ò-–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π  
**–ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã**:
- **RealTimeWritingAgent** - –∞–Ω–∞–ª–∏–∑ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏
- **VersionControlAgent** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏
- **EditorAgent** - —Ä–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **FormatExportAgent** - —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **WorkflowOrchestratorAgent** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Real-time NLP, Version control, Multi-format generation
**–°—Ä–æ–∫**: 6-8 –Ω–µ–¥–µ–ª—å  

## Agent System Evolution

### MVP Agent (Phase 1)
```
WorldKnowledgeAgent
‚îú‚îÄ‚îÄ EntityExtractorAgent (NuExtract)
‚îú‚îÄ‚îÄ RelationshipAnalyzerAgent (Saiga)
‚îú‚îÄ‚îÄ GraphCoordinatorAgent (Neo4j + pgvector)
‚îî‚îÄ‚îÄ ChatAgent (RAG –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥—Ä–∞—Ñ–∞ + –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞)
```

### Multi-Agent System (Phase 6)
```
WritingWorkflowOrchestrator
‚îú‚îÄ‚îÄ WorldBuilding/
‚îÇ   ‚îú‚îÄ‚îÄ EntityExtractorAgent
‚îÇ   ‚îú‚îÄ‚îÄ RelationshipAnalyzerAgent
‚îÇ   ‚îî‚îÄ‚îÄ GraphCoordinatorAgent
‚îú‚îÄ‚îÄ Consistency/
‚îÇ   ‚îú‚îÄ‚îÄ ConsistencyCheckerAgent
‚îÇ   ‚îú‚îÄ‚îÄ TimelineValidatorAgent
‚îÇ   ‚îú‚îÄ‚îÄ GeographyValidatorAgent
‚îÇ   ‚îî‚îÄ‚îÄ ConflictResolverAgent
‚îú‚îÄ‚îÄ Writing/
‚îÇ   ‚îú‚îÄ‚îÄ AtmosphereAnalyzerAgent
‚îÇ   ‚îú‚îÄ‚îÄ PacingControllerAgent
‚îÇ   ‚îú‚îÄ‚îÄ FlashbackTrackerAgent
‚îÇ   ‚îî‚îÄ‚îÄ DetailSuggesterAgent
‚îú‚îÄ‚îÄ Style/
‚îÇ   ‚îú‚îÄ‚îÄ SpeechPatternAgent
‚îÇ   ‚îú‚îÄ‚îÄ StyleConsistencyAgent
‚îÇ   ‚îî‚îÄ‚îÄ ToneAdapterAgent
‚îî‚îÄ‚îÄ Architecture/
    ‚îú‚îÄ‚îÄ PlotCoreAgent
    ‚îú‚îÄ‚îÄ StructureOptimizerAgent
    ‚îî‚îÄ‚îÄ AlternativeGeneratorAgent
```

## Success Metrics by Phase

| Phase | Key Metrics | Target Values |
|-------|-------------|---------------|
| MVP | Entity extraction accuracy, Graph completeness | >85%, >80% |
| Phase 2 | Contradiction detection rate, False positives | >90%, <10% |
| Phase 3 | Writing quality improvement, User satisfaction | +25%, >8.5/10 |
| Phase 4 | Style consistency score, Character voice accuracy | >90%, >85% |
| Phase 5 | Plot coherence rating, Structure optimization | >8.5/10, +30% |
| Phase 6 | User retention, Writing productivity gain | >80%, +50% |

## Technical Architecture

### Infrastructure Requirements by Phase
| Phase | CPU Cores | RAM | Storage | GPU | Key Components |
|-------|-----------|-----|---------|-----|----------------|
| MVP | 4-8 | 16-24GB | 100GB | Optional | Basic agents, Neo4j, PostgreSQL |
| Phase 2-3 | 8-12 | 24-32GB | 200GB | Optional | Logic engines, temporal reasoning |
| Phase 4-6 | 8-16 | 32GB | 500GB | Recommended | Style models, real-time processing |

**Constraint**: –ú–∞–∫—Å–∏–º—É–º 32GB RAM - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞

### Risk Assessment & Mitigation

**Technical Risks**:
- **LLM Quality**: Local models vs API cost trade-off ‚Üí Hybrid approach with fallback
- **Scalability**: Graph DB performance with large knowledge bases ‚Üí Incremental indexing
- **Accuracy**: NER and relationship extraction quality in Russian ‚Üí Model fine-tuning
- **Integration**: Multi-agent coordination complexity ‚Üí Modular architecture

**Development Strategy**:
- Incremental development with constant testing
- Domain-specific model optimization  
- Modular architecture with clear interfaces
- Comprehensive test coverage (80%+)
